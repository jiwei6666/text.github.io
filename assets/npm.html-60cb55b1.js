import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o,c as r,a as n,d as s,b as e,e as p}from"./app-8a44af8d.js";const l={},c=n("h2",{id:"npm",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#npm","aria-hidden":"true"},"#"),s(" npm")],-1),u={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},d=n("p",null,"要将自己打包的插件发布到npm上，你需要按照以下步骤进行操作：",-1),m={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},v=p(`<p>初始化项目：在你的插件项目根目录下打开命令行，运行npm init命令来初始化项目，并按照提示填写相关信息。</p><p>创建一个发布版本：在完成项目初始化后，确保你的插件代码已经准备好并通过测试。然后，在命令行中运行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> version <span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>命令，将插件的版本号更新为你想要发布的版本号。</p><p>登录npm账号：在命令行中运行</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>命令，输入你在第一步注册的npm账号的用户名、密码和邮箱地址，以登录npm账号。</p><p>发布插件：在命令行中运行npm publish命令，将你的插件发布到npm上。发布成功后，其他人就可以通过</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>your-plugin-name<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>命令来安装使用你的插件了。</p><p>请注意，发布插件前建议先阅读npm的官方文档，了解更多关于发布插件的细节和最佳实践。</p><p>要退出npm的源地址，你可以使用以下命令：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> config delete registry
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,13),k={href:"http://xn--npm-y28dv2bea710du8e4x4ae36cl70bw3s.zhaopin.com",target:"_blank",rel:"noopener noreferrer"},b=p(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> adduser
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>根据提示输入你的用户名、密码和电子邮件地址。确保提供的信息是正确的。</p><h2 id="配置本地文件" tabindex="-1"><a class="header-anchor" href="#配置本地文件" aria-hidden="true">#</a> 配置本地文件</h2><p>在根目录下创建 .npmignore .npmrc .babelrc 三个文件，分别对应以下内容：</p><p>.npmignore 这个文件是代表不想发布到npm的文件可以过滤掉</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>node_modules
<span class="token keyword">package</span><span class="token operator">-</span>lock<span class="token punctuation">.</span>json
command
<span class="token punctuation">.</span>babelrc
<span class="token punctuation">.</span>npmignore
<span class="token punctuation">.</span>npmrc
main<span class="token punctuation">.</span>js
webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>.npmrc 这个文件是代表是指定发布的源地址</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>
######################
# 请根据实际使用环境切换 #
######################

#淘宝指定的源
#registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org
#npm官网指定的源
registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">registry.npmjs.org</span><span class="token regex-delimiter">/</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>.babelrc 这个文件是尽可能的压缩发布包的大小体积需要安装对应依赖</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span>
            <span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-modules-commonjs&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-modules-umd&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token string-property property">&quot;globals&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&quot;es6-promise&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Promise&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>配置好上述文件之后在package.json中编写一下内容：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dist/library.js&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// 代表打包后的入口文件</span>
<span class="token string-property property">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;grace-filereplace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist/library.js&quot;</span>  <span class="token comment">//grace-filereplace 可以自定义</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后运行命令</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">git</span> push <span class="token parameter variable">-u</span> origin main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>main 代表要推送的分支</p><p>发布完成之后就可以在其他项目中</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> i <span class="token operator">&lt;</span>包名<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装成功之后<br> 在package.json中创建一个命令，如：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;dev:init&quot;</span><span class="token operator">:</span> <span class="token string">&quot;grace-filereplace init&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上就是发布一个npm包的过程。</p>`,20);function g(h,q){const a=i("ExternalLinkIcon");return o(),r("div",null,[c,n("p",null,[n("a",u,[s("npm官网"),e(a)])]),d,n("p",null,[s("注册一个npm账号：在"),n("a",m,[s("https://www.npmjs.com/"),e(a)]),s(" 上注册一个npm账号。")]),v,n("p",null,[n("a",k,[s("运行以下命令登录到npm.zhaopin.com"),e(a)]),s("：")]),b])}const _=t(l,[["render",g],["__file","npm.html.vue"]]);export{_ as default};
